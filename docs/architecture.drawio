<?xml version="1.0" encoding="UTF-8"?>
<mxfile host="app.diagrams.net" modified="2025-11-21T00:00:00.000Z" agent="booksai-copilot" etag="1" version="14.6.13" type="device">
  <diagram id="arch1" name="AWS Deployment Architecture">
    <mxGraphModel dx="1000" dy="600" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>
        <!-- Users -->
        <mxCell id="user" value="User / Client" style="ellipse;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#2B579A" vertex="1" parent="1">
          <mxGeometry x="40" y="120" width="120" height="60" as="geometry"/>
        </mxCell>
        <!-- ALB -->
        <mxCell id="alb" value="ALB (AWS ALB)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e6f2ff;strokeColor=#2B579A" vertex="1" parent="1">
          <mxGeometry x="220" y="110" width="160" height="60" as="geometry"/>
        </mxCell>
        <!-- ECS / API -->
        <mxCell id="ecs" value="API (ECS Fargate)\n(scripts/api.py)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#BF9000" vertex="1" parent="1">
          <mxGeometry x="420" y="80" width="220" height="100" as="geometry"/>
        </mxCell>
        <!-- Model Service inside ECS -->
        <mxCell id="modelsvc" value="Model Service\n(loads models from S3)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#BF9000" vertex="1" parent="ecs">
          <mxGeometry x="10" y="20" width="200" height="60" as="geometry"/>
        </mxCell>
        <!-- S3 -->
        <mxCell id="s3" value="S3 (Raw Data / Models)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#eaf6e0;strokeColor=#2E8B57" vertex="1" parent="1">
          <mxGeometry x="420" y="220" width="200" height="70" as="geometry"/>
        </mxCell>
        <!-- Training (SageMaker/Batch) -->
        <mxCell id="train" value="Training (SageMaker / Batch)\n(scripts/train_recommender.py)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f0e6ff;strokeColor=#6A0DAD" vertex="1" parent="1">
          <mxGeometry x="700" y="80" width="240" height="100" as="geometry"/>
        </mxCell>
        <!-- RDS -->
        <mxCell id="rds" value="RDS (Metadata)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff0f0;strokeColor=#A00000" vertex="1" parent="1">
          <mxGeometry x="700" y="220" width="160" height="70" as="geometry"/>
        </mxCell>
        <!-- ElastiCache -->
        <mxCell id="cache" value="ElastiCache (Redis)\n(caching popular recs)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f7f7e6;strokeColor=#A67C00" vertex="1" parent="1">
          <mxGeometry x="420" y="320" width="200" height="60" as="geometry"/>
        </mxCell>
        <!-- GitHub Actions CI -->
        <mxCell id="ci" value="CI/CD (GitHub Actions)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e8f0fb;strokeColor=#2B579A" vertex="1" parent="1">
          <mxGeometry x="40" y="320" width="180" height="60" as="geometry"/>
        </mxCell>
        <!-- CloudWatch / Monitoring -->
        <mxCell id="monitor" value="CloudWatch / Prometheus" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e8ffe8;strokeColor=#2E8B57" vertex="1" parent="1">
          <mxGeometry x="700" y="320" width="200" height="60" as="geometry"/>
        </mxCell>
        <!-- Edges -->
        <mxCell id="e1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;strokeColor=#2B579A" edge="1" parent="1" source="user" target="alb">
          <mxGeometry as="geometry"/>
        </mxCell>
        <mxCell id="e2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;strokeColor=#2B579A" edge="1" parent="1" source="alb" target="ecs">
          <mxGeometry as="geometry"/>
        </mxCell>
        <mxCell id="e3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;strokeColor=#2E8B57" edge="1" parent="1" source="ecs" target="s3">
          <mxGeometry as="geometry"/>
        </mxCell>
        <mxCell id="e4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;strokeColor=#6A0DAD" edge="1" parent="1" source="train" target="s3">
          <mxGeometry as="geometry"/>
        </mxCell>
        <mxCell id="e5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;strokeColor=#2B579A" edge="1" parent="1" source="ci" target="ecs">
          <mxGeometry as="geometry"/>
        </mxCell>
        <mxCell id="e6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;strokeColor=#A00000" edge="1" parent="1" source="ecs" target="rds">
          <mxGeometry as="geometry"/>
        </mxCell>
        <mxCell id="e7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;strokeColor=#A67C00" edge="1" parent="1" source="ecs" target="cache">
          <mxGeometry as="geometry"/>
        </mxCell>
        <mxCell id="e8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;strokeColor=#2E8B57" edge="1" parent="1" source="monitor" target="ecs">
          <mxGeometry as="geometry"/>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="pipeline" name="Data Pipeline Flow">
    <mxGraphModel dx="1000" dy="600" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>
        <!-- Data Loading -->
        <mxCell id="load" value="1. Data Loading\n\nKaggle Dataset\nBooks.csv (271K books)\nRatings.csv (1.15M ratings)\n\nscripts/train_recommender.py\nload_data()" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d4e1f5;strokeColor=#2B579A;align=center;" vertex="1" parent="1">
          <mxGeometry x="60" y="60" width="200" height="120" as="geometry"/>
        </mxCell>
        <!-- Data Transformation -->
        <mxCell id="transform" value="2. Data Transformation\n\nClean &amp; normalize text\n(title, author, publisher)\n\nFilter ratings (threshold)\n\nBuild sparse matrices\n(user-item, item-item)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff4cc;strokeColor=#BF9000;align=center;" vertex="1" parent="1">
          <mxGeometry x="320" y="60" width="200" height="120" as="geometry"/>
        </mxCell>
        <!-- Model Training -->
        <mxCell id="train2" value="3. Model Training\n\nPopularity baseline\n(rating counts)\n\nTF-IDF content vectors\n(cosine similarity)\n\nItem-Item CF\n(co-occurrence matrix)\n\nSave artifacts to models/" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#6A0DAD;align=center;" vertex="1" parent="1">
          <mxGeometry x="580" y="60" width="200" height="140" as="geometry"/>
        </mxCell>
        <!-- API -->
        <mxCell id="api2" value="4. API\n\nFlask REST API\nscripts/api.py\n\nEndpoints:\n/recommend?title=...&amp;method=...\n/healthz\n\nLoad models at startup\nServe predictions on-demand" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#2E8B57;align=center;" vertex="1" parent="1">
          <mxGeometry x="320" y="260" width="200" height="140" as="geometry"/>
        </mxCell>
        <!-- Front-end -->
        <mxCell id="frontend" value="5. Front-End\n\nUser Interface\n(future: React/Vue)\n\nSearch books\nView recommendations\nRate books\n\nCurrently: curl / Postman" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#D79B00;align=center;" vertex="1" parent="1">
          <mxGeometry x="60" y="260" width="200" height="140" as="geometry"/>
        </mxCell>
        <!-- Edges -->
        <mxCell id="e21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;strokeColor=#2B579A;strokeWidth=2;" edge="1" parent="1" source="load" target="transform">
          <mxGeometry as="geometry"/>
        </mxCell>
        <mxCell id="e22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;strokeColor=#BF9000;strokeWidth=2;" edge="1" parent="1" source="transform" target="train2">
          <mxGeometry as="geometry"/>
        </mxCell>
        <mxCell id="e23" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;strokeColor=#6A0DAD;strokeWidth=2;" edge="1" parent="1" source="train2" target="api2">
          <mxGeometry as="geometry"/>
        </mxCell>
        <mxCell id="e24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;strokeColor=#2E8B57;strokeWidth=2;" edge="1" parent="1" source="api2" target="frontend">
          <mxGeometry as="geometry"/>
        </mxCell>
        <!-- Feedback loop (optional) -->
        <mxCell id="e25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;strokeColor=#999999;strokeWidth=1;dashed=1;" edge="1" parent="1" source="frontend" target="load">
          <mxGeometry as="geometry"/>
        </mxCell>
        <mxCell id="feedback" value="User feedback\n(future: retrain loop)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=10;fontColor=#999999;" vertex="1" parent="1">
          <mxGeometry x="10" y="180" width="100" height="30" as="geometry"/>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
